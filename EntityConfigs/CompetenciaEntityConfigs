using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Metadata.Builders;
using WebAppnbloom.Models;

namespace WebAppnbloom.EntityConfigs;

// interface é o mais alto nivel de abstração
//na orientação a objetos ela é aponta do icerberg
//funciona com um contrato com as classes
//Obriga  geralmente a implementação
//vamos implementar um metodo da interface?
public class CompetenciaEntityConfig : IEntityTypeConfiguration<Competencia>
{

    //Fluent API
    public void Configure(EntityTypeBuilder<Competencia> builder)
    {
         

        builder.ToTable("Competencia");
        /*
            Chave Primaria: Identificador
            unico - universal e imutável
        */ 
        builder.HasKey(c=>c.Id);

        builder.Property(c=>c.Id)
               .HasColumnName("ID");

        /*Coluna BLoom*/

        builder.Property(c=>c.ColunaBloom)
               .HasColumnName("ColunaBloom")
               .HasColumnType("varchar(60)")
               .IsRequired();

        /*linha bloom*/

        builder.Property(c=>c.LinhBloom)
               .HasColumnName("LinhaBloom")
               .HasColumnType("varchar(60)")
               .IsRequired();

    }
}